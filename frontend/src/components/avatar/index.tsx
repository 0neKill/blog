import React from 'react';
import clsx from 'clsx';

import './avatar.style.scss';

interface Props {
    alt: string,
    className?: string,
    src?: string,
    isDisableSettings?: boolean,
}

export const Avatar: React.FunctionComponent<Props> = ({ isDisableSettings, className, src, alt }) => {
    return (
        <div className={clsx('avatar', className)}>
            {createAvatar({ src, alt })}
            {
                !isDisableSettings && (
                    <svg width='10' height='10' viewBox='0 0 10 10' fill='none'
                         xmlns='http://www.w3.org/2000/svg'>
                        <path
                            d='M5.90996 10H4.08996C3.85502 10 3.65174 9.8365 3.60146 9.607L3.39796 8.665C3.12649 8.54606 2.86907 8.39731 2.63046 8.2215L1.71196 8.514C1.48796 8.58543 1.24445 8.49115 1.12696 8.2875L0.214959 6.712C0.0987532 6.50826 0.138789 6.25124 0.311459 6.0925L1.02396 5.4425C0.991558 5.14806 0.991558 4.85094 1.02396 4.5565L0.311459 3.908C0.138534 3.74918 0.0984829 3.49186 0.214959 3.288L1.12496 1.7115C1.24245 1.50785 1.48596 1.41357 1.70996 1.485L2.62846 1.7775C2.75049 1.68708 2.87753 1.60361 3.00896 1.5275C3.13513 1.45635 3.26498 1.39192 3.39796 1.3345L3.60196 0.3935C3.65199 0.163984 3.85505 0.000247196 4.08996 0H5.90996C6.14487 0.000247196 6.34792 0.163984 6.39796 0.3935L6.60396 1.335C6.74435 1.39676 6.88108 1.46654 7.01346 1.544C7.13693 1.61541 7.25628 1.6937 7.37096 1.7785L8.28996 1.486C8.51381 1.41483 8.75702 1.50908 8.87446 1.7125L9.78446 3.289C9.90067 3.49274 9.86063 3.74976 9.68796 3.9085L8.97546 4.5585C9.00786 4.85294 9.00786 5.15006 8.97546 5.4445L9.68796 6.0945C9.86063 6.25324 9.90067 6.51026 9.78446 6.714L8.87446 8.2905C8.75702 8.49392 8.51381 8.58817 8.28996 8.517L7.37096 8.2245C7.25467 8.31015 7.13383 8.38943 7.00896 8.462C6.87787 8.53795 6.74266 8.60656 6.60396 8.6675L6.39796 9.607C6.34772 9.83632 6.14471 9.9998 5.90996 10ZM2.80996 7.1145L3.21996 7.4145C3.31238 7.48258 3.40872 7.54518 3.50846 7.602C3.60231 7.65635 3.69894 7.70575 3.79796 7.75L4.26446 7.9545L4.49296 9H5.50796L5.73646 7.954L6.20296 7.7495C6.40661 7.65969 6.59991 7.54804 6.77946 7.4165L7.18996 7.1165L8.21046 7.4415L8.71796 6.5625L7.92646 5.841L7.98246 5.335C8.00706 5.11368 8.00706 4.89032 7.98246 4.669L7.92646 4.163L8.71846 3.44L8.21046 2.5605L7.18996 2.8855L6.77946 2.5855C6.59985 2.45336 6.40658 2.34088 6.20296 2.25L5.73646 2.0455L5.50796 1H4.49296L4.26346 2.046L3.79796 2.25C3.69886 2.29352 3.60222 2.34243 3.50846 2.3965C3.40933 2.45316 3.31351 2.51543 3.22146 2.583L2.81096 2.883L1.79096 2.558L1.28246 3.44L2.07396 4.1605L2.01796 4.667C1.99336 4.88832 1.99336 5.11168 2.01796 5.333L2.07396 5.839L1.28246 6.5605L1.78996 7.4395L2.80996 7.1145ZM4.99796 7C3.89339 7 2.99796 6.10457 2.99796 5C2.99796 3.89543 3.89339 3 4.99796 3C6.10253 3 6.99796 3.89543 6.99796 5C6.99658 6.104 6.10196 6.99862 4.99796 7ZM4.99796 4C4.45166 4.00055 4.0069 4.43942 3.99907 4.98567C3.99125 5.53192 4.42324 5.98335 4.9693 5.99956C5.51537 6.01577 5.97338 5.59075 5.99796 5.045V5.245V5C5.99796 4.44772 5.55024 4 4.99796 4Z'
                            fill='white' />
                    </svg>
                )
            }
        </div>
    );
};

const createAvatar = ({ alt, src }: { src?: string, alt: string }) => {
    if (!src) {
        return (
            <div className='avatar__image'>
                <span>{alt[0] + alt[1]}</span>
            </div>
        );
    }
    return <img src={src}
                alt={alt} className='avatar__image' />;
};
